<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue-Todolist</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    
    <div id="app">

        <main class="container ">

            <h2 class="text-primary text-center py-5">Cose da fare</h2>

            <div class="row justify-content-center">

                <div class="col-sm-6">

                    <!-- qui si aggiungono le cose da fare -->
                    <form @submit.prevent="onAddClick">
                        <div class="input-group">

                            <!-- <qui l'utente aggiunge oggetto e categoria delle cose da fare con bottone "Aggiungi"-->
                            <input type="text" aria-label="Oggetto" class="form-control" placeholder="inserisci oggetto" 
                            v-model="newToDoList.text">
                            
                            <input type="text" list="list-categories" aria-label="Categoria" class="form-control" placeholder="inserisci categoria" 
                            v-model="newToDoList.cat">
                            <datalist id="list-categories">
                                <option value="Casa"></option>
                                <option value="Lavoro"></option>
                                <option value="Pagamenti"></option>
                                <option value="Generico"></option>
                                <option value="Hobby"></option>
                            </datalist>

                            <button class="btn btn-primary btn-aggiungi" >Aggiungi</button>
                        </div>
                    </form>

                    <!-- barra riepilogo to do list-->
                    <ul class="nav justify-content-center">
                        <li>
                            <a class="nav-link" href="#">Tutti</a>
                        </li>

                        <li>
                            <a class="nav-link" href="#">Da fare</a>
                        </li>

                        <li>
                            <a class="nav-link" href="#">Completato</a>
                        </li>
                    </ul>

                    <!-- dettaglio delle cose da fare -->
                    <div class="card">
                        <div class="to-do list-group list-group-flush">

                            <!-- lista delle cose da fare -->
                            <div class="list-group-item d-flex align-items-center overflow-hidden" v-for="(task, i) in toDoList">

                                <!-- form con label e checked delle cose da fare con badge della classe incluso -->
                                <label class="form-check form-switch flex-fill">
                                    <input class="form-check-input" type="checkbox" v-model="task.done" > 
                                    <span :class="{ 'text-decoration-line-through': task.done }">  {{ task.text }}  </span>
                                    <!-- <div class="">{{task.created.toLocaleStrig()}}</div> -->
                                    <span class="badge bg-primary mx-2"> {{ task.cat }} </span>
                                </label>

                                <!-- bottone elimina oggetto dalla lista-->
                                <button class="btn btn-danger btn-cancella" @click="clickDelete(i)">Cancella</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </main>

    </div>

    <script src="js/script.js"></script>
</body>
</html>